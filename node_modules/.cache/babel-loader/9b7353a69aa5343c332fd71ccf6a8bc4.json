{"ast":null,"code":"import _classCallCheck from \"/home/samman/Documents/laravel-project/react-git/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/samman/Documents/laravel-project/react-git/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/samman/Documents/laravel-project/react-git/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/samman/Documents/laravel-project/react-git/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/samman/Documents/laravel-project/react-git/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/samman/Documents/laravel-project/react-git/src/components/booksComponents/bookprofil.js\";\nimport React, { Component } from 'react';\nimport Bookcommnets from './bookComments';\nimport '../../Styles/bookprofile.css';\nimport axios from \"axios\";\n\nvar BookProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookProfile, _Component);\n\n  function BookProfile(props) {\n    var _this;\n\n    _classCallCheck(this, BookProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BookProfile).call(this, props));\n\n    _this.handle_update_review = function (event) {\n      _this.setState({\n        newReview: event.target.value\n      });\n    };\n\n    _this.handle_add_review = function () {\n      var newReview = {\n        'body': _this.state.newReview,\n        'book_id': Number(_this.state.bookId),\n        'user_id': 6\n      };\n      console.log(newReview);\n      axios.post('http://127.0.0.1:8001/api/comments/' + _this.state.bookId, newReview).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      currentBook: '',\n      bookId: _this.props.match.params.id,\n      author: '',\n      category: '',\n      reviews: [],\n      newReview: ''\n    };\n    return _this;\n  }\n\n  _createClass(BookProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:8001/api/books/' + this.state.bookId).then(function (res) {\n        console.log(res.data);\n\n        if (res.data) {\n          console.log(res.data);\n\n          _this2.setState({\n            currentBook: res.data.data\n          });\n\n          console.log(_this2.state.currentBook);\n        } else {\n          alert(\"invalid email or password\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row BookPage \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-2 BookImg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: 150,\n          height: 200\n        },\n        src: \"http://localhost:8001/\" + this.state.currentBook.image,\n        alt: \"Card image cap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"offset-1 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.currentBook.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.state.currentBook.description), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.currentBook.NumberOfBook, \" copy available\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.state.currentBook.NumberOfBook > 0 ? React.createElement(\"button\", {\n        className: \"btn btn-lg btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Lease\") : React.createElement(\"button\", {\n        className: \"btn btn-lg btn-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Lease\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: \"offset-1 col-10\",\n        cols: \"100\",\n        value: this.state.newReview,\n        onChange: this.handle_update_review,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"offset-1 col-10 btn-lg btn-primary\",\n        onClick: this.handle_add_review,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"add Your Review\"))), React.createElement(Bookcommnets, {\n        bookData: this.state.bookId,\n        comments: this.state.currentBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BookProfile;\n}(Component);\n\n;\nexport default BookProfile;","map":{"version":3,"sources":["/home/samman/Documents/laravel-project/react-git/src/components/booksComponents/bookprofil.js"],"names":["React","Component","Bookcommnets","axios","BookProfile","props","handle_update_review","event","setState","newReview","target","value","handle_add_review","state","Number","bookId","console","log","post","then","res","catch","err","currentBook","match","params","id","author","category","reviews","get","data","alert","width","height","image","title","description","NumberOfBook"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Bookcommnets from './bookComments'\nimport '../../Styles/bookprofile.css';\n\nimport axios from \"axios\";\n\nclass BookProfile extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentBook: '',\n            bookId: this.props.match.params.id,\n            author: '',\n            category: '',\n            reviews: [],\n            newReview: '',\n        };\n    }\n\n    componentDidMount() {\n        axios.get('http://127.0.0.1:8001/api/books/' + this.state.bookId)\n            .then(res => {\n                console.log(res.data);\n                if (res.data) {\n                    console.log(res.data);\n                    this.setState({\n                        currentBook: res.data.data,\n                    });\n                    console.log(this.state.currentBook);\n                } else {\n                    alert(\"invalid email or password\");\n                }\n            });\n    }\n\n    handle_update_review = (event) => {\n        this.setState({\n            newReview: event.target.value,\n        });\n    };\n\n\n    handle_add_review = () => {\n        const newReview = {\n            'body': this.state.newReview,\n            'book_id': Number(this.state.bookId),\n            'user_id': 6,\n        };\n        console.log(newReview);\n        axios.post('http://127.0.0.1:8001/api/comments/' + this.state.bookId, newReview)\n            .then(res => {\n                console.log(res);\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    };\n\n    render() {\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row BookPage \">\n                    <div className=\"col-2 BookImg\">\n                        <div className=\"Img\">\n                            <img style={{width: 150, height: 200}}\n                                 src={\"http://localhost:8001/\" + this.state.currentBook.image}\n                                 alt=\"Card image cap\"/>\n                        </div>\n                    </div>\n\n                    <div className=\"offset-1 mb-2\">\n                        <h1>\n                            {this.state.currentBook.title}\n                        </h1>\n                        <p>\n                            {this.state.currentBook.description}\n                        </p>\n                        <h4>\n                            {this.state.currentBook.NumberOfBook} copy available\n                        </h4>\n                        <div>\n                            {this.state.currentBook.NumberOfBook > 0 ?\n                                <button className='btn btn-lg btn-primary'>\n                                    Lease\n                                </button>\n                                :\n                                <button className='btn btn-lg btn-dark'>\n                                    Lease\n                                </button>\n                            }\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <div className='row '>\n                        <textarea className='offset-1 col-10'\n                                  cols='100'\n                                  value={this.state.newReview}\n                                  onChange={this.handle_update_review}\n                        >\n                        </textarea>\n                    </div>\n                    <div className='row mt-3'>\n                        <button className='offset-1 col-10 btn-lg btn-primary'\n                                onClick={this.handle_add_review}\n                        >\n                            add Your Review\n                        </button>\n                    </div>\n\n                </div>\n                <Bookcommnets\n                    bookData={this.state.bookId}\n                    comments={this.state.currentBook}\n                />\n            </div>\n        );\n    }\n};\n\nexport default BookProfile;\n"]},"metadata":{},"sourceType":"module"}